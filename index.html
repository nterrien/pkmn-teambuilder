<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<title>Pokémon Teambuilder</title>

	<link rel="stylesheet" href="main.css">

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="Pokémon Teambuilder">

	<script defer="defer" src="./data/pokemon.js"></script>
	<script defer="defer" src="./data/type-chart.js"></script>
	<script defer="defer" src="./data/abilities.js"></script>
	<script defer="defer" src="main.js"></script>
</head>

<body>
	<main class="grid-container">
		<h1 class="text-center">Pokémon Teambuilder</h1>

		<div class="explainations">
			This tool is a teambuilder, that can be used to check weaknesses and resistances of your Pokémon team. You
			can also check offensive type coverage <a href="https://nterrien.github.io/pkmn-type-coverage/"
				target="_blank">here</a>.

			This tool is inspired by <a href="https://marriland.com/tools/team-builder/en/" target="_blank">Marriland's
				Pokémon Team Builder</a>.
		</div>

		<div id="team" class="team">
		</div>

		<div class="search">
			<button style="margin: auto;" onclick="toggleAdvancedSearch()">Toggle Advanced Search</button>
			<div id="advanced-search" class="hide">
				<div class="options">
					<div>
						Name:
						<input type="text" id="searchName" value="" onKeyUp="startAdvancedSearch()">
					</div>
					<div>
						Types:
						<input type="text" id="type1" value="" list="types-list"
							onkeydown="enterDownFunction(event,function (){startAdvancedSearch()})"
							onfocusout="startAdvancedSearch()">
						<input type="text" id="type2" value="" list="types-list"
							onkeydown="enterDownFunction(event,function (){startAdvancedSearch()})"
							onfocusout="startAdvancedSearch()">
					</div>
					<div>
						Ability:
						<input type="text" id="ability-field" value="" placeholder="Double click to see the list"
							list="abilities-list"
							onkeydown="enterDownFunction(event,function (){startAdvancedSearch()})"
							onfocusout="startAdvancedSearch()">
					</div>
					<div>
						Region:
						<input type="text" id="region" value="" list="regions-list"
							onkeydown="enterDownFunction(event,function (){startAdvancedSearch()})"
							onfocusout="startAdvancedSearch()">
					</div>
					<div>
						Fully Evolved
						<input type="checkbox" id="final-evo" checked onchange="startAdvancedSearch()">
					</div>
					<div class="mega">
						Mega:
						<select id="mega" onchange="startAdvancedSearch()">
							<option value="include" selected>Include</option>
							<option value="exclude">Exclude</option>
							<option value="only">Only</option>
						</select>
					</div>
					<button onclick="resetAdvancedSearch()">Reset</button>
				</div>
				<div id="search-resist" class="options">
				</div>
				<div id="search-result">

				</div>
			</div>
		</div>

		<div class="table-container">
			<div class="table-title">Defensive Coverage</div>
			<table id="table">
			</table>
		</div>

		<div class="paste">
			<div class="text-center">
				<button class="tooltip" onclick="importPaste()">Import
					<span class='tooltiptext'>Import a team from a pokepaste-like text</span>
				</button>
				<button class="tooltip" onclick="exportPaste()">Export
					<span class='tooltiptext'>Export selected Pokémons in a pokepaste-like format</span>
				</button>
			</div>
			<div id="log" class="text-center"></div>
			<textarea id="paste-field" placeholder="Import paste here"></textarea>
		</div>
	</main>
</body>

<footer>
	<div>Images and names of Pokémon are the property of Game Freak. Sprites of Etrian-pokémon are made by the Yggdrasil
		Project.</div>
	<a href="https://github.com/nterrien/pkmn-odyssey-teambuilder">Project page on Github</a>
</footer>

</html>

<datalist id="pokemon-names"></datalist>
<datalist id="types-list"></datalist>
<datalist id="abilities-list"></datalist>
<datalist id="regions-list"></datalist>